# Accessible Project Configuration
# Copy this file to .env and adjust as needed
# Note: Project version is managed in pyproject.toml

# Database Configuration (Dev/Test)
# =================================
# For dev/test, the database runs independently via Makefile
# Run: make db-start && make db-init
#
# In production, the database is external (managed service)
# and connection info comes from Helm chart configuration

# Database connection for local development
# Note: Database runs on host network, accessible via host.docker.internal
DB_SERVER=host.docker.internal
DB_PORT=1433
DB_NAME=starsongs
DB_USER=sa
DB_PASSWORD=YourStrong@Passw0rd

# API Service Configuration
# Which data API should nextui connect to?
# Options: http://fastDataApi:8000 or http://flaskDataApi:8001
API_SERVICE_URL=http://fastDataApi:8000

# CORS Configuration
# =================================
# Comma-separated list of allowed origins for CORS
# SECURITY: Never use "*" in production!
#
# Development (allow local development):
CORS_ORIGINS=http://localhost,http://localhost:80,http://localhost:3000
#
# Production examples:
# CORS_ORIGINS=https://app.example.com,https://www.example.com
# CORS_ORIGINS=https://accessible.company.com
#
# Staging example:
# CORS_ORIGINS=https://staging.example.com

# Database Connection Pool Configuration
# =================================
# Configure SQLAlchemy connection pooling for optimal performance
#
# Pool Size: Number of persistent connections to maintain
# Recommendation:
#   - Development: 5-10
#   - Production: 20-50 (based on expected concurrent users)
#   - Formula: (number_of_workers * 2) + 5
DB_POOL_SIZE=20

# Max Overflow: Additional connections beyond pool_size
# These are created on-demand and closed when no longer needed
DB_POOL_MAX_OVERFLOW=10

# Pool Timeout: Seconds to wait before giving up getting a connection
DB_POOL_TIMEOUT=30

# Pool Recycle: Recycle connections after N seconds (prevents stale connections)
# Recommendation: 3600 (1 hour) for SQL Server
# SQL Server may close idle connections, so recycle proactively
DB_POOL_RECYCLE=3600

# Pool Pre-Ping: Test connections before using them
# Recommendation: true (always enabled for reliability)
DB_POOL_PRE_PING=true

# SQL Echo: Log all SQL statements (for debugging)
# Recommendation: false in production (significant performance overhead)
DB_SQL_ECHO=false
